(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[529],{9387:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},m:function(){return d}});var r=n(5893),i=(n(4051),n(3454));var o=Boolean(i.env.NEXT_PUBLIC_HCAPTCHA_SITE_KEY),a=n(7294),c=n(3454);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var l=(0,a.lazy)((function(){return n.e(702).then(n.t.bind(n,6702,23))}));function d(){var e=(0,a.useRef)(null),t=(0,a.useCallback)((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.execute()}),[]),n=(0,a.useCallback)((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.resetCaptcha()}),[]);return{ref:e,execute:t,reset:n,isEnabled:o}}var f=(0,a.forwardRef)((function(e,t){return o?(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)(l,u({ref:t,sitekey:c.env.NEXT_PUBLIC_HCAPTCHA_SITE_KEY,size:"invisible"},e))}):null}))},1667:function(e,t,n){"use strict";n.d(t,{Z:function(){return Oe}});var r=n(5893),i=n(7294),o=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(o);if(!e)throw new Error;return e}var c=n(4184),s=n.n(c),u=n(2662),l=n.n(u);function d(){return Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)<1200}var f=n(523),p=n.n(f);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=!1;function _(e){if(!m){try{p().polyfill()}catch(t){return void console.error("smoothscroll polyfill failed",t)}m=!0}try{window.scroll(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({behavior:"smooth"},e))}catch(t){console.error("smoothscroll polyfill failed",t)}}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_({top:e.offsetTop+t})},b=n(8669),x=n.n(b),k=n(4120),w=n.n(k),g=n(4051),y=n.n(g),j=n(3728);function C(e){var t=e.color,n=e.size;return(0,r.jsx)("svg",{viewBox:"0 0 16 16",width:n,height:n,children:(0,r.jsx)("g",{fill:t||"#111111",children:(0,r.jsx)("path",{fill:t||"#111111",d:"M8,0C3.6,0,0,3.6,0,8s3.6,8,8,8s8-3.6,8-8S12.4,0,8,0z M7,11.4L3.6,8L5,6.6l2,2l4-4L12.4,6L7,11.4z"})})})}var N=n(9953),O=n(423),S=n(3043),P=n.n(S),I=n(804),T=n.n(I),E=n(7969),L=n(2711),R=n(3454);function H(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}var G=Boolean(R.env.NEXT_PUBLIC_GITHUB_OAUTH_CLIENT_ID);function M(e){var t=e.defaultUsername,n=void 0===t?"":t,o=e.setTicketGenerationState,c=(0,i.useState)(n),u=c[0],l=c[1],f=(0,i.useState)("default"),p=f[0],h=f[1],m=(0,i.useState)(""),_=m[0],b=m[1],x=a(),k=x.userData,w=x.setUserData,g=(0,i.useRef)(null);return"error"===p?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:s()(P()["form-row"],T()["form-row"]),children:(0,r.jsxs)("div",{className:s()(P()["input-label"],P().error),children:[(0,r.jsx)("div",{className:s()(P().input,P()["input-text"]),children:_}),(0,r.jsx)("button",{type:"button",className:s()(P().submit,P().error),onClick:function(){h("default"),o("default")},children:"Try Again"})]})})}):(0,r.jsx)("form",{ref:g,onSubmit:function(e){if(e.preventDefault(),"default"!==p)return o("default"),void h("default");if(h("loading"),o("loading"),!R.env.NEXT_PUBLIC_GITHUB_OAUTH_CLIENT_ID)return h("error"),void b("GitHub OAuth App must be set up.");var t=window.top.outerHeight/2+window.top.screenY-350,n=window.top.outerWidth/2+window.top.screenX-300,r=window.open("https://github.com/login/oauth/authorize?client_id=".concat(encodeURIComponent(R.env.NEXT_PUBLIC_GITHUB_OAUTH_CLIENT_ID)),"githubOAuth","resizable,scrollbars,status,width=".concat(600,",height=").concat(700,",top=").concat(t,",left=").concat(n));new Promise((function(e){var t=setInterval((function(){r&&!r.closed||(clearInterval(t),e(void 0))}),250);window.addEventListener("message",(function(n){N.yp===n.origin&&n.data.type&&(clearInterval(t),r&&r.close(),e(n.data))}))})).then(function(){var e,t=(e=y().mark((function e(t){var n,r,i,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return h("default"),o("default"),e.abrupt("return");case 4:if("token"!==t.type){e.next=19;break}return e.next=9,(0,E.t)({id:k.id,token:t.token});case 9:if((i=e.sent).ok){e.next=12;break}throw new Error("Failed to store oauth result");case 12:return e.next=14,i.json();case 14:a=e.sent,n=a.username,r=a.name,e.next=20;break;case 19:n=t.login,r=t.name;case 20:document.body.classList.add("ticket-generated"),w(D({},k,{username:n,name:r})),l(n),h("default"),o("default"),(new Image).src="https://github.com/".concat(n,".png"),fetch("/tickets/".concat(n)).catch((function(e){}));case 27:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){H(o,r,i,a,c,"next",e)}function c(e){H(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e),h("error"),b("Error! Please try again."),o("default")}))},children:(0,r.jsxs)("div",{className:s()(P()["form-row"],T()["form-row"]),children:[(0,r.jsxs)("div",{className:s()(P()["github-wrapper"]),children:[(0,r.jsxs)("button",{type:"submit",className:s()(P().submit,P()["generate-with-github"],P()[p],U({},P()["not-allowed"],!G)),disabled:!R.env.NEXT_PUBLIC_GITHUB_OAUTH_CLIENT_ID||"loading"===p||Boolean(u),onClick:function(){g&&g.current&&d()&&v(g.current,g.current.offsetHeight)},children:[(0,r.jsxs)("div",{className:T().generateWithGithub,children:[(0,r.jsx)("span",{className:T().githubIcon,children:(0,r.jsx)(j.Z,{color:"#fff",size:24})}),"loading"===p?(0,r.jsx)(O.Z,{size:4}):u||"Generate with GitHub"]}),u?(0,r.jsx)("span",{className:T().checkIcon,children:(0,r.jsx)(C,{color:"#fff",size:24})}):null]}),(0,r.jsx)("p",{className:T().description,children:G?"Only public info will be used.":(0,r.jsxs)(r.Fragment,{children:["GitHub OAuth app is required."," ",(0,r.jsx)("a",{href:"".concat(N._,"#authentication"),target:"_blank",rel:"noopener noreferrer",className:T()["learn-more"],children:"Learn more."})]})})]}),(0,r.jsx)("div",{className:P()["or-divider"],children:"OR"}),(0,r.jsx)("a",{href:"/stage/a",className:s()(P().submit,P()["generate-with-github"],P()["stage-btn"]),children:(0,r.jsxs)("div",{className:T().generateWithGithub,children:[(0,r.jsx)("span",{className:T().githubIcon,children:(0,r.jsx)(L.hM,{})}),"Go to Live Stage"]})})]})})}var Z=n(7292),A=n(9035),B=n.n(A);function z(e){var t=e.width;return(0,r.jsx)("svg",{width:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M23.643 4.93695C22.808 5.30695 21.911 5.55695 20.968 5.66995C21.93 5.09395 22.668 4.17995 23.016 3.09195C22.116 3.62595 21.119 4.01395 20.058 4.22195C19.208 3.31795 17.998 2.75195 16.658 2.75195C14.086 2.75195 12 4.83795 12 7.41195C12 7.77595 12.042 8.12995 12.12 8.47195C8.24701 8.27695 4.81601 6.42195 2.51801 3.60395C2.11801 4.29395 1.88801 5.09395 1.88801 5.94595C1.88801 7.56195 2.71101 8.98895 3.96001 9.82395C3.19601 9.79895 2.47801 9.58995 1.85001 9.24095V9.30095C1.85001 11.558 3.45501 13.441 5.58701 13.869C5.19501 13.975 4.78401 14.031 4.36001 14.031C4.06001 14.031 3.76701 14.003 3.48301 13.949C4.07601 15.799 5.79601 17.147 7.83501 17.183C6.24001 18.433 4.23101 19.178 2.04901 19.178C1.67301 19.178 1.30201 19.156 0.937012 19.113C2.99901 20.436 5.44701 21.206 8.07701 21.206C16.647 21.206 21.332 14.108 21.332 7.95195C21.332 7.75195 21.327 7.54995 21.318 7.34995C22.228 6.69195 23.018 5.87295 23.641 4.93995L23.643 4.93695Z",className:B()["fill-black"]})})}function F(e){var t=e.width;return(0,r.jsx)("svg",{width:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.67079C0 0.748038 0.747522 0 1.67079 0H18.3292C19.252 0 20 0.747522 20 1.67079V18.3292C20 19.252 19.2525 20 18.3292 20H1.67079C0.748038 20 0 19.2525 0 18.3292V1.67079ZM7.91667 7.625H10.625V8.98583C11.0154 8.20333 12.0158 7.5 13.5187 7.5C16.3996 7.5 17.0833 9.0575 17.0833 11.9154V17.2083H14.1667V12.5662C14.1667 10.9388 13.7762 10.0208 12.7833 10.0208C11.4062 10.0208 10.8333 11.0104 10.8333 12.5662V17.2083H7.91667V7.625ZM2.91667 17.0833H5.83333V7.5H2.91667V17.0833ZM6.25 4.375C6.25 5.41042 5.41042 6.25 4.375 6.25C3.33958 6.25 2.5 5.41042 2.5 4.375C2.5 3.33958 3.33958 2.5 4.375 2.5C5.41042 2.5 6.25 3.33958 6.25 4.375Z",className:B()["fill-black"]})})}function V(e){var t=e.width;return(0,r.jsxs)("svg",{width:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12Z",className:s()(B()["fill-black"],B()["stroke-black"]),strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8 12L12 16L16 12",className:B()["stroke-white"],strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12 8L12 16",className:B()["stroke-white"],strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}var W=n(7805),J=n.n(W);function X(e){var t,n,o,a=e.username,c=(0,i.useState)(!1),u=c[0],l=c[1],d=(0,i.useState)(!1),f=d[0],p=d[1],h=(0,i.useRef)(),m=encodeURIComponent("".concat(N._O,"/tickets/").concat(a)),_=encodeURIComponent(N.ZD),v="https://twitter.com/intent/tweet?url=".concat(m,"&via=vercel&text=").concat(_),b="https://www.linkedin.com/sharing/share-offsite/?url=".concat(m),x="/api/ticket-images/".concat(a);return(0,i.useEffect)((function(){l(!1);var e=new Image;e.src=x,e.onload=function(){l(!0),p(!1),h.current&&(h.current.click(),h.current=void 0)}}),[x]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("a",{className:s()(J().button,w().appear,J().first,"icon-button"),href:v,rel:"noopener noreferrer",target:"_blank",children:[(0,r.jsx)(z,{width:24})," Tweet it!"]}),(0,r.jsxs)("a",{className:s()(J().button,w().appear,J().second,"icon-button",J()["linkedin-button"]),href:b,rel:"noopener noreferrer",target:"_blank",children:[(0,r.jsx)(F,{width:20})," Share on LinkedIn"]}),(0,r.jsx)("a",{className:s()(J().button,w().appear,J().third,"icon-button",(t={},n=J().loading,o=f,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),href:f?void 0:x,onClick:function(e){u||(e.preventDefault(),h.current=e.currentTarget,p(!0))},download:"ticket.png",children:f?(0,r.jsx)(O.Z,{size:4}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V,{width:24})," Download"]})})]})}function Y(){return(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M8 17.929H6C4.895 17.929 4 17.017 4 15.893V5.036C4 3.91 4.895 3 6 3H14C15.105 3 16 3.911 16 5.036V6.902M10 7.072H18C19.105 7.072 20 7.982 20 9.107V19.964C20 21.09 19.105 22 18 22H10C8.895 22 8 21.089 8 19.964V9.107C8 7.983 8.895 7.072 10 7.072Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}var q=n(4894),Q=n.n(q);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){var t=e.username,n=(0,i.useState)(1),o=n[0],a=n[1],c=(0,i.useState)(!1),u=c[0],l=c[1],d=(0,i.useState)(!1),f=d[0],p=d[1],h=(0,i.useState)(!1),m=h[0],_=h[1],v=(0,i.useRef)(null),b=(0,i.useRef)(null),x="".concat(N._O,"/tickets/").concat(t);(0,i.useEffect)((function(){navigator.clipboard&&p(!0)}),[]);var k=(0,r.jsx)("span",{className:s()(Q().copied,K({},Q().visible,m)),children:"Copied!"}),g=(0,r.jsx)("button",{type:"button",className:Q()["copy-button"],ref:b,onClick:function(){navigator.clipboard.writeText(x).then((function(){_(!0),setTimeout((function(){_(!1)}),2e3)}))},children:(0,r.jsx)(Y,{})});return(0,r.jsxs)("div",{className:s()(Q().wrapper,w().appear),children:[(0,r.jsxs)("div",{className:Q()["label-wrapper"],children:[(0,r.jsx)("div",{className:Q().label,children:"Your ticket URL:"}),(0,r.jsxs)("div",{className:s()(Q()["mobile-copy"],K({},Q()["mobile-copy-disabled"],!f)),children:[k,g]})]}),(0,r.jsxs)("div",{className:s()(Q().field,K({},Q()["desktop-copy-disabled"],!f)),children:[(0,r.jsx)("span",{className:Q().url,ref:v,onScroll:function(){if(!u){l(!0);var e=requestAnimationFrame((function(){var t,n,r,i=((null===(t=v.current)||void 0===t?void 0:t.scrollWidth)||0)-((null===(n=v.current)||void 0===n?void 0:n.clientWidth)||0);a((i-((null===(r=v.current)||void 0===r?void 0:r.scrollLeft)||0))/(i||1)),cancelAnimationFrame(e),l(!1)}))}},children:x}),(0,r.jsx)("span",{className:s()(Q().fade,K({},Q()["desktop-copy-disabled"],!f)),style:{opacity:o}}),(0,r.jsxs)("div",{className:s()(Q()["desktop-copy"],w()["hide-on-mobile"],K({},Q()["desktop-copy-disabled"],!f)),children:[k,g]})]})]})}var ee=n(1163);function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ne(e,t,n){return(ne=te()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&oe(i,n.prototype),i}).apply(null,arguments)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return!t||"object"!==ae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ce(e){var t="function"===typeof Map?new Map:void 0;return(ce=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ne(e,arguments,re(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oe(r,e)})(e)}function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var i=re(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ie(this,n)}}var ue=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(n,e);var t=se(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).res=e,r}return n}(ce(Error)),le=n(6043),de=n(9387);function fe(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){fe(o,r,i,a,c,"next",e)}function c(e){fe(o,r,i,a,c,"throw",e)}a(void 0)}))}}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t,n=e.sharePage,o=(0,i.useState)(""),c=o[0],u=o[1],l=(0,i.useState)(""),d=l[0],f=l[1],p=(0,i.useState)(!1),h=p[0],m=p[1],_=(0,i.useState)(!1),v=(_[0],_[1],(0,i.useState)("default")),b=v[0],x=v[1],k=a(),g=k.setPageState,j=k.setUserData,C=(0,ee.useRouter)(),N=(0,de.m)(),S=N.ref,I=N.execute,T=N.reset,L=N.isEnabled,R=(0,i.useCallback)((function(e){(0,E.z)(c,e).then(function(){var e=pe(y().mark((function e(t){var r,i,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new ue(t);case 2:return e.next=4,t.json();case 4:if(r=e.sent,i={id:r.id,ticketNumber:r.ticketNumber,name:r.name,username:r.username},!n){e.next=12;break}return o=Object.keys(i).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(i[e]||""))})).join("&"),e.next=10,C.replace("/?".concat(o),"/");case 10:e.next=13;break;case 12:j(i),g("ticket");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=pe(y().mark((function e(t){var n,r,i,o,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="Error! Please try again.",c=t,!(null!=(s=ue)&&"undefined"!==typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](c):c instanceof s)){e.next=13;break}if(o=t.res,!(null===(r=o.headers.get("Content-Type"))||void 0===r?void 0:r.includes("application/json"))){e.next=10;break}return e.next=7,o.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:"bad_email"===(null===(a=e.t0)||void 0===a||null===(i=a.error)||void 0===i?void 0:i.code)&&(n="Please enter a valid email");case 13:f(n),x("error");case 15:case"end":return e.stop()}var c,s}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c,C,g,j,n]),H=(0,i.useCallback)((function(e){if(e.preventDefault(),"default"===b)return x("loading"),L?I():R();x("default")}),[I,b,L,R]),U=(0,i.useCallback)((function(e){e.preventDefault(),x("default"),m(!0),T()}),[T]);return(0,le.Z)("email",u),"error"===b?(0,r.jsx)("div",{className:s()(P().form,he({},P()["share-page"],n)),children:(0,r.jsx)("div",{className:P()["form-row"],children:(0,r.jsxs)("div",{className:s()(P()["input-label"],P().error),children:[(0,r.jsx)("div",{className:s()(P().input,P()["input-text"]),children:d}),(0,r.jsx)("button",{type:"button",className:s()(P().submit,P().register,P().error),onClick:U,children:"Try Again"})]})})}):(0,r.jsxs)("form",{className:s()(P().form,(t={},he(t,P()["share-page"],n),he(t,w().appear,!h),he(t,w()["appear-fifth"],!h&&!n),he(t,w()["appear-third"],!h&&n),t)),onSubmit:H,children:[(0,r.jsx)("div",{className:P()["form-row"],children:(0,r.jsx)("button",{type:"submit",className:s()(P().submit,P().register,P()[b]),disabled:"loading"===b,children:"loading"===b?(0,r.jsx)(O.Z,{size:4}):(0,r.jsx)(r.Fragment,{children:"Register"})})}),(0,r.jsx)(de.Z,{ref:S,onVerify:R})]})}function _e(e){var t,n,o,a=e.username,c=e.name,u=e.ticketNumber,f=e.sharePage,p=(0,i.useRef)(null),h=(0,i.useState)("default"),m=h[0],_=h[1],b=(0,i.useRef)(null);return(0,i.useEffect)((function(){p.current&&!window.matchMedia("(pointer: coarse)").matches&&l().init(p.current,{glare:!0,max:5,"max-glare":.16,"full-page-listening":!0})}),[p]),(0,i.useEffect)((function(){!f&&b&&b.current&&d()&&v(b.current,-30)}),[b,f]),(0,r.jsxs)("div",{className:s()(x()["ticket-layout"],(t={},n=x()["ticket-share-layout"],o=f,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),children:[(0,r.jsxs)("div",{ref:b,children:[(0,r.jsxs)("div",{className:x()["ticket-text"],children:[(0,r.jsx)("h2",{className:s()(x().hero,w().appear,w()["appear-first"]),children:f?c?(0,r.jsxs)(r.Fragment,{children:[c,"\u2019s Ticket"]}):(0,r.jsx)(r.Fragment,{children:N.px}):(0,r.jsxs)(r.Fragment,{children:["You're in. ",(0,r.jsx)("br",{})," Make it unique."]})}),(0,r.jsx)("p",{className:s()(x().description,w().appear,w()["appear-second"]),children:f?(0,r.jsxs)(r.Fragment,{children:["Join ",null!==c&&void 0!==c?c:"them"," on ",N.Hu,"."]}):(0,r.jsxs)(r.Fragment,{children:["Generate a unique ticket image with ",(0,r.jsx)("br",{className:w()["hide-on-mobile"]}),"your GitHub profile."]})})]}),(0,r.jsx)("div",{className:s()(w().appear,w()["appear-third"]),children:f?(0,r.jsx)(me,{sharePage:!0}):(0,r.jsx)(M,{defaultUsername:a,setTicketGenerationState:_})})]}),(0,r.jsxs)("div",{className:x()["ticket-visual-wrapper"],children:[(0,r.jsx)("div",{ref:p,className:s()(x()["ticket-visual"],w().appear,w()["appear-fourth"]),children:(0,r.jsx)(Z.Z,{username:a,name:c,ticketNumber:u,ticketGenerationState:m})}),!f&&(0,r.jsx)(r.Fragment,{children:a?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:x()["ticket-actions"],children:(0,r.jsx)(X,{username:a})}),(0,r.jsx)("div",{className:x()["ticket-copy"],children:(0,r.jsx)($,{username:a})})]}):(0,r.jsx)("div",{className:x()["ticket-actions-placeholder"]})})]})]})}var ve=n(6289),be=n(2952),xe=n.n(be);function ke(e){var t=e.children;return(0,r.jsx)("div",{className:xe().container,children:t})}var we=n(7267),ge=n.n(we);function ye(){return(0,r.jsxs)("div",{className:ge().wrapper,children:[(0,r.jsx)("h2",{className:s()(w().appear,w()["appear-third"],w()["show-on-mobile"],ge().description),children:N.vk}),(0,r.jsxs)("h1",{className:s()(w().appear,w()["appear-third"],ge().hero),children:["Welcome to the",(0,r.jsx)("br",{className:w()["show-on-desktop"]})," ",N.RS," conference"]}),(0,r.jsx)("h2",{className:s()(w().appear,w()["appear-third"],w()["show-on-tablet"],ge().description),children:N.vk}),(0,r.jsxs)("div",{className:s()(w().appear,w()["appear-fourth"],ge().info),children:[(0,r.jsx)("p",{children:N.Hu}),(0,r.jsx)("div",{className:ge()["description-separator"]}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Online"})})]})]})}var je=n(3649),Ce=n.n(je);function Ne(){return(0,r.jsxs)("div",{className:s()(w().appear,w()["appear-fifth"],Ce().contact),children:["Learn more on"," ",(0,r.jsx)("a",{href:N._,className:Ce()["contact-email"],target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),"."]})}function Oe(e){var t=e.defaultUserData,n=e.sharePage,a=e.defaultPageState,c=void 0===a?"registration":a,s=(0,i.useState)(t),u=s[0],l=s[1],d=(0,i.useState)(c),f=d[0],p=d[1];return(0,r.jsx)(o.Provider,{value:{userData:u,setUserData:l,setPageState:p},children:(0,r.jsx)(ve.Z,{children:(0,r.jsx)(ke,{children:"registration"!==f||n?(0,r.jsx)(_e,{username:u.username,name:u.name,ticketNumber:u.ticketNumber,sharePage:n}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ye,{}),(0,r.jsx)(me,{}),(0,r.jsx)(Ne,{})]})})})})}},423:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893),i=function(e){return"number"===typeof e?"".concat(e,"px"):e},o=n(4184),a=n.n(o),c=n(9523),s=n.n(c);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t,n=e.size,o=void 0===n?2:n,c=e.height,l=e.children,d=e.reverse;return(0,r.jsxs)("span",{className:a()(s().loading,u({},s().reverse,d)),style:(t={},u(t,"--loading-dots-height",c?i(c):void 0),u(t,"--loading-dots-size",2!==o?i(o):void 0),t),children:[l&&(0,r.jsx)("div",{className:s().spacer,children:l}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})}},6043:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i=n(1163);function o(e,t){var n=(0,i.useRouter)();(0,r.useEffect)((function(){if("URLSearchParams"in window){var r=window.location,i=r.search,o=r.pathname,a=new URLSearchParams(i),c=a.get(e);if(c){t(c),a.delete(e);var s=a.toString(),u=o+(s?"?".concat(s):""),l=n.pathname+(s?"?".concat(s):"");history.replaceState({url:l,as:u,options:{shallow:!0}},"",u)}}}),[t,n.pathname,e])}},7969:function(e,t,n){"use strict";n.d(t,{z:function(){return c},t:function(){return u}});var r=n(4051),i=n.n(r);function o(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,s,"next",e)}function s(e){o(a,r,i,c,s,"throw",e)}c(void 0)}))}}function c(e,t){return s.apply(this,arguments)}function s(){return(s=a(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,token:n})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=a(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.token,e.next=3,fetch("/api/save-github-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,token:r})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2952:function(e){e.exports={container:"conf-container_container___1EuE"}},3649:function(e){e.exports={contact:"contact_contact__o2Q7k","contact-email":"contact_contact-email__sI6Iy"}},3043:function(e){e.exports={form:"form_form__SikLS","share-page":"form_share-page__F6Ju_",input:"form_input__9DubJ","input-label":"form_input-label__0PY2g",focused:"form_focused__1FMG9",error:"form_error__H1lY5",success:"form_success__zGBJF","input-text":"form_input-text__aSKAx","form-row":"form_form-row__3Cee4",submit:"form_submit__PZdmp","generate-with-github":"form_generate-with-github__aNvgp",register:"form_register__b_elR",loading:"form_loading__tNoZR",default:"form_default__Pxiwc","not-allowed":"form_not-allowed__64pkc","stage-btn":"form_stage-btn__YH9WC","github-wrapper":"form_github-wrapper__ToCm_","or-divider":"form_or-divider__yQe7h"}},7267:function(e){e.exports={wrapper:"hero_wrapper__JrOv5",hero:"hero_hero__KMqi3",info:"hero_info__ADe6O",description:"hero_description__39JUn","description-separator":"hero_description-separator__pP3ew"}},9035:function(e){e.exports={"fill-black":"icon-transition_fill-black__UZroc","stroke-black":"icon-transition_stroke-black__EQMsP","stroke-white":"icon-transition_stroke-white__VijGw"}},9523:function(e){e.exports={loading:"loading-dots_loading__3HYzm",spacer:"loading-dots_spacer__3kGlG",blink:"loading-dots_blink__mTR28",reverse:"loading-dots_reverse__LeKlJ"}},7805:function(e){e.exports={button:"ticket-actions_button__sVOds",loading:"ticket-actions_loading__WEA5y",first:"ticket-actions_first__82rUr",second:"ticket-actions_second___mhAt",third:"ticket-actions_third__CoJQ_","linkedin-button":"ticket-actions_linkedin-button__kzbqU"}},4894:function(e){e.exports={wrapper:"ticket-copy_wrapper__FHyJ0",label:"ticket-copy_label__MwNIo","label-wrapper":"ticket-copy_label-wrapper__Nuhp5",field:"ticket-copy_field__0qE_k","desktop-copy-disabled":"ticket-copy_desktop-copy-disabled__MbDx3","mobile-copy":"ticket-copy_mobile-copy__qtKaL","mobile-copy-disabled":"ticket-copy_mobile-copy-disabled__tPe_o",url:"ticket-copy_url___8QV1",fade:"ticket-copy_fade__moSiu","desktop-copy":"ticket-copy_desktop-copy__ra411",copied:"ticket-copy_copied__B6q71",visible:"ticket-copy_visible__19_9i","copy-button":"ticket-copy_copy-button__rAOZR"}},804:function(e){e.exports={githubIcon:"ticket-form_githubIcon__HXuwR",checkIcon:"ticket-form_checkIcon__2TztQ",generateWithGithub:"ticket-form_generateWithGithub__nWoIM",stageIcon:"ticket-form_stageIcon__kQ1Qd","form-row":"ticket-form_form-row__XbVWa",description:"ticket-form_description__67p3W","learn-more":"ticket-form_learn-more__g9YyS"}},8669:function(e){e.exports={hero:"ticket_hero__AIpTu",description:"ticket_description__2trfn","ticket-text":"ticket_ticket-text__pCQrh","ticket-layout":"ticket_ticket-layout__IJ_d1","ticket-share-layout":"ticket_ticket-share-layout__zSpOj","ticket-visual":"ticket_ticket-visual__1VBgt","ticket-actions":"ticket_ticket-actions__SfJtD","ticket-copy":"ticket_ticket-copy__5rWdO","ticket-actions-placeholder":"ticket_ticket-actions-placeholder__XH_00","ticket-visual-wrapper":"ticket_ticket-visual-wrapper__U3_AO"}}}]);